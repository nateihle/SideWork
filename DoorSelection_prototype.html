<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>HTML5 CSS Easy Drop Menu System</title>
<style>
body{ margin:0px; }
#leftMenu {
	width: 15%;
	min-width: 150px;
}
#leftMenu > details{
    
}
#leftMenu > details > summary{
	cursor:pointer;
	background: #DFEFFF;
	margin:6px;
	padding:8px;
}
#leftMenu > details > summary:hover{
	background: #EFEFEF;
}
#leftMenu > details > summary::-webkit-details-marker{
	/*display: none;*/
}
#leftMenu > details > a{
	display:block;
	text-decoration: none;
	color:#160077;
	font-size:13px;
	margin:3px 6px 3px 18px;
	padding: 4px;
	background: #EFEFEF;
}
#leftMenu > details > a:hover{
	background: #DFEFFF;
	font-weight: bold;
}
#leftMenu > details > a:before{
	content: "- ";
}
</style>
</head>
<body onload="main()">
<div id="leftMenu">
  <table style="width:400%" border="1">
	<th>
	  <p>Number of Doors</p>
	  <select id="numDoors" onchange="numDoorsChanged()">
	  </select>
	</th>
	<th>
		<p>Number of Frames</p>
	  <div id="numFrames">
	  </div>
	</th>
	<th>
		<p>Door to Frame</p>
	  <select id="frameConfig" onchange="frameTypeChanged()">
	  </select>
	</th>
	<th>
		<p>Frame Types</p>
	  <div id="frameString">
	  </div>
	</th>
	<th>
		<p>Catalog Door Width</p>
	  <select id="doorWidth" onchange="doorWidthChanged()">
	  </select>
	</th>
	<th>
		<p>Door Height</p>
	  <select id="doorHeight">
	  </select>
	</th>
	<th>
		<p>Net Opening</p>
	  <div style="background-color:#9ACD32" id="totalWidth">
	  </div>
	</th>
  </table>
  <div id="visualSetup">
  </div>
</div>
<script>

var DoorHeightArray = [
[67, "67\" Tall"],
[75, "75\" Tall"],
[79, "79\" Tall"]
];

var DoorWidthArray = [
[24, "24\" Wide"],
[26, "26\" Wide"],
[28, "28\" Wide"],
[30, "30\" Wide"],
[33, "33\" Wide"],
[36, "36\" Wide"]
];

var DoorInfo = [
[1, [[1, 1, "FULL-FLANGED"]]],
[2, [[1, 2, "FULL-FLANGED"]]],
[3, [[1, 3, "FULL-FLANGED"]]],
[4, [[1, 4, "FULL-FLANGED"]]],
[5, [[1, 5, "FULL-FLANGED"]]],
[6, [	[2, "3,3", "L/R"], 
		[2, "4,2", "L/R"]]],
[7, [[2, "3,4", "L/R"]]],
[8, [[2, "4,4", "L/R"]]],
[9, [[2, "5,4", "L/R"]]],
[10, [	[2, "5,5", "L/R"], 
		[3, "4,4,2", "L/C/R"]]],
[11, [[3, "4,3,4", "L/C/R"]]],
[12, [[3, "4,4,4", "L/C/R"]]],
[13, [[3, "5,4,4", "L/C/R"]]],
[14, [	[3, "5,5,4", "L/C/R"],
		[4, "4,4,4,2", "L/C/C/R"]]],
[15, [	[3, "5,5,5", "L/C/R"],
		[4, "4,4,4,3", "L/C/C/R"]]],
[16, [[4, "4,4,4,4", "L/C/C/R"]]],
[17, [	[4, "5,4,3,5", "L/C/C/R"],
		[4, "4,4,4,5", "L/C/C/R"]]],
[18, [	[4, "5,5,5,3", "L/C/C/R"],
		[5, "4,4,4,4,2", "L/C/C/C/R"]]],
[19, [	[4, "5,5,5,4", "L/C/C/R"],
		[5, "4,4,4,4,3", "L/C/C/C/R"]]],
[20, [	[4, "5,5,5,5", "L/C/C/R"],
		[5, "4,4,4,4,4", "L/C/C/C/R"]]],
[21, [	[5, "5,5,3,3,5", "L/C/C/C/R"],
		[5, "4,4,4,4,5", "L/C/C/C/R"]]],
[22, [	[5, "5,4,4,4,5", "L/C/C/C/R"],
		[6, "4,4,4,4,4,2", "L/C/C/C/C/R"]]],
[23, [	[5, "5,5,3,5,5", "L/C/C/C/R"],
		[6, "4,4,4,4,4,3", "L/C/C/C/C/R"]]],
[24, [	[5, "5,5,4,5,5", "L/C/C/C/R"],
		[6, "4,4,4,4,4,4", "L/C/C/C/C/R"]]],
];


var NumDoorsArray = [];

function populateDropDown(elementName, array, index)
{
	var elementContainer = document.getElementById(elementName);
	for(i in array) 
	{
		var opt = array[i][index];
		var el = document.createElement("option");
		el.textContent = opt;
		el.value = opt;
		elementContainer.appendChild(el);
	}
}

function populateDropDown2(elementName, array)
{
	var elementContainer = document.getElementById(elementName);
	for(i in array) 
	{
		var opt = array[i];
		var el = document.createElement("option");
		el.textContent = opt;
		el.value = opt;
		elementContainer.appendChild(el);
	}
}

function populateDNArray()
{
	for(i=0; i<24; i++)
	{
		NumDoorsArray[NumDoorsArray.length] = [NumDoorsArray.length, (NumDoorsArray.length + 1).toString() + " Door" + (i>0?"s":"")];
	}
}

function main()
{
	populateDNArray();
	populateDropDown("doorHeight", DoorHeightArray, 1);
	populateDropDown("doorWidth", DoorWidthArray, 1);
	populateDropDown("numDoors", NumDoorsArray, 1);
	numDoorsChanged();
}

function removeOptions(selectbox)
{
    var i;
    for(i = selectbox.options.length - 1 ; i >= 0 ; i--)
    {
        selectbox.remove(i);
    }
}

function changeDivStr(element, str)
{
	var elementContainer = document.getElementById(element);
	elementContainer.textContent = str;
	elementContainer.value = str;
}

function numDoorsChanged()
{
	var index = document.getElementById("numDoors").selectedIndex;
	removeOptions(document.getElementById("frameConfig"));
	populateDropDown("frameConfig", DoorInfo[index][1], 1);
	frameTypeChanged();
	
}

function frameTypeChanged()
{
	var i = document.getElementById("numDoors").selectedIndex;
	var j = document.getElementById("frameConfig").selectedIndex;
	changeDivStr("numFrames", DoorInfo[i][1][j][0] + " Frame" + (DoorInfo[i][1][j][0] > 1 ? "s" : ""));
	changeDivStr("frameString", DoorInfo[i][1][j][2]);
	doorWidthChanged();
}

function getFootString(inches)
{
	var ft = Math.floor(inches / 12);
	var str = "";
	var rem_inches = inches - (ft * 12)
	if(ft > 0)
	{
		str += ft + " FT " + Math.floor(rem_inches) + " INCHES";
	}
	return str;
}

function doorWidthChanged()
{
	var i = document.getElementById("numDoors").selectedIndex;
	var j = document.getElementById("frameConfig").selectedIndex;
	var k = document.getElementById("doorWidth").selectedIndex;
	var numFrames = DoorInfo[i][1][j][0];
	var numDoors = i + 1;
	var base = 568 + (k>0?81:0) + (k>1?51:0) + (k>2?38:0) + (k>3?67:0) + (k>4?74:0);
	var totalWidth = (base * numDoors) + (35 * (numDoors + 1)) + (30 * (numFrames - 1));
	var totalWidthInches = totalWidth / 25.4;
	changeDivStr("totalWidth", getFootString(totalWidthInches) + " | " + totalWidth + "mm" );
	updateVisuals();
}

function updateVisuals()
{
	var numDoors = document.getElementById("numDoors").selectedIndex + 1;
	for(i = 0; i < numDoors; i++)
	{
	    var div = document.createElement("div");
		var img = document.createElement("img");
		img.src = "door.jpg";
		div.appendchild(img);
		var el = document.getElementById("visualSetup");
		el.appendChild(th);
	}
}

</script>
</body>
</html>